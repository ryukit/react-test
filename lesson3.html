<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <script src="https://fb.me/react-with-addons-0.11.1.js"></script>
    <script src="https://fb.me/JSXTransformer-0.11.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
    <style type="text/css">
        *,
        *:before,
        *:after {
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<div id="content">

</div>

<script type="text/jsx">
    /** @jsx React.DOM */

    var App = React.createClass({
        mixins: [React.addons.LinkedStateMixin],

        getInitialState: function() {
            return {
                payment: 0,
                payment2: 0
            }
        },

        render: function() {
            var total = parseInt(this.state.payment, 10) + parseInt(this.state.payment2, 10)
            return (
                <div>
                    <Payment valueLink={this.linkState('payment')} />
                    <Payment valueLink={this.linkState('payment2')} />
                    {total}
                </div>
            );
        }

    });

    var Payment = React.createClass({
        render: function() {
            return this.transferPropsTo(
                <input type="text" />
            );
        }
    });

    React.renderComponent(
        <App />,
        document.getElementById('content'),
        function() {
            console.log('after init');
        }
    );

</script>
</body>
</html>
